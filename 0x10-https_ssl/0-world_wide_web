#!/bin/bash

# Function to display information about a subdomain
display_info() {
    local domain="$1"
    local subdomain="$2"

    # Use the dig command to get the record type and destination
    local info=$(dig +short "${subdomain}.${domain}")
    local record_type=$(echo "${info}" | awk 'NR==1 {print $4}')
    local destination=$(echo "${info}" | awk 'NR==2 {print $1}')

    # Display the information
    echo "The subdomain ${subdomain} is a ${record_type} record and points to ${destination}"
}

# Check if the domain argument was provided
if [[ -z "$1" ]]; then
    echo "Error: The domain argument is mandatory"
    exit 1
fi

# Set the domain variable
domain="$1"

# Check if the subdomain argument was provided
if [[ -n "$2" ]]; then
    # Display information for the specified subdomain
    display_info "${domain}" "$2"
else
    # Display information for the default subdomains
    display_info "${domain}" "www"
    display_info "${domain}" "lb-01"
    display_info "${domain}" "web-01"
    display_info "${domain}" "web-02"
fi